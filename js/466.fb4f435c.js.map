{"version":3,"file":"js/466.fb4f435c.js","mappings":"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","sources":["webpack://project-one/./src/components/dataAnalysis/DataView.vue","webpack://project-one/src/components/dataAnalysis/DataView.vue","webpack://project-one/./src/components/dataAnalysis/DataView.vue?dad3","webpack://project-one/./src/components/dataAnalysis/DataView.vue?d17c","webpack://project-one/./src/utils/table.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"data-view\"},[_c('el-card',[_c('div',{ref:\"main1\",attrs:{\"id\":\"main1\"}})]),_c('el-card',[_c('div',{ref:\"main2\",attrs:{\"id\":\"main2\"}})])],1),_c('div',{ref:\"main3\",attrs:{\"id\":\"main3\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n  <div class=\"data-view\">\r\n    <el-card>\r\n      <div id=\"main1\" ref=\"main1\"></div>\r\n    </el-card>\r\n\r\n    <el-card>\r\n      <div id=\"main2\"  ref=\"main2\"></div>\r\n    </el-card>\r\n\r\n  </div>\r\n  <div id=\"main3\"  ref=\"main3\"></div>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {getTableData} from '@/utils/table'\r\nexport default {\r\n  data() {\r\n    return {\r\n      \r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    // let myChart = this.$echarts.init(document.getElementById('main1'))\r\n    let myChart = this.$echarts.init(this.$refs['main1'])\r\n    myChart.setOption({\r\n      title: {\r\n        text: \"学习班\",\r\n      },\r\n      tooltip: {\r\n        // trigger: 'axis',\r\n        // axisPointer: { type: 'cross' }\r\n      },\r\n      xAxis: {\r\n        data: ['一班','二班','三班','四班','五班','六班']\r\n      },\r\n      yAxis: {\r\n        type: 'value',\r\n        name: '人数',\r\n        min: 0,\r\n        max: 100\r\n      },\r\n      series: {\r\n        name: '人数',\r\n        type: 'bar',\r\n        data: [26, 32, 70, 52, 68, 92]\r\n      }\r\n\r\n    })\r\n\r\n\r\n\r\n    let myChart3 = this.$echarts.init(this.$refs['main3'])\r\n    myChart3.setOption({\r\n      title: {text: '2022降水量温度统计表'},\r\n      tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: { type: 'cross' }\r\n      },\r\n      legend: {},\r\n      xAxis: [\r\n        {\r\n          type: 'category',\r\n          axisTick: {\r\n            alignWithLabel: true  //跨线居中\r\n          },\r\n          data: [\r\n            '1月',\r\n            '2月',\r\n            '3月',\r\n            '4月',\r\n            '5月',\r\n            '6月',\r\n            '7月',\r\n            '8月',\r\n            '9月',\r\n            '10月',\r\n            '11月',\r\n            '12月'\r\n          ]\r\n        }\r\n      ],\r\n      yAxis: [\r\n        {\r\n          type: 'value',\r\n          name: '降水量',\r\n          min: 0,\r\n          max: 250,\r\n          position: 'right',\r\n          axisLabel: {\r\n            formatter: '{value} ml'\r\n          }\r\n        },\r\n        {\r\n          type: 'value',\r\n          name: '温度',\r\n          min: 0,\r\n          max: 25,\r\n          position: 'left',\r\n          axisLabel: {\r\n            formatter: '{value} °C'\r\n          }\r\n        }\r\n      ],\r\n      series: [\r\n        {\r\n          name: '降水量',\r\n          type: 'bar',\r\n          yAxisIndex: 0,\r\n          data: [6, 32, 70, 86, 68.7, 100.7, 125.6, 112.2, 78.7, 48.8, 36.0, 19.3]\r\n        },\r\n        {\r\n          name: '温度',\r\n          type: 'line',\r\n          smooth: true,  //是否平滑曲线\r\n          yAxisIndex: 1,\r\n          data: [\r\n            6.0,\r\n            10.2,\r\n            10.3,\r\n            11.5,\r\n            10.3,\r\n            13.2,\r\n            14.3,\r\n            16.4,\r\n            18.0,\r\n            16.5,\r\n            12.0,\r\n            5.2\r\n          ]\r\n        }\r\n      ]\r\n    })\r\n\r\n \r\n  },\r\n\r\n  created() {\r\n    this.service.get('/dataview').then(res => {\r\n      if(res.data.status === 200){\r\n          let {legend, xAxis, series} = res.data.data\r\n          let i=0;\r\n          while(series[i]) {\r\n              console.log(series[i])\r\n              delete series[i].stack  //相同堆栈，数据会加在一起\r\n              i++\r\n          }\r\n          \r\n          this.draw(legend, xAxis, series)\r\n      }\r\n    })\r\n  },\r\n\r\n  methods: {\r\n\r\n    draw(legend, xAxis, series){\r\n      let myChart2 = this.$echarts.init(this.$refs['main2'])\r\n      let option = {\r\n        title: {\r\n          text: \"人数统计\",\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          // axisPointer: { type: 'cross' }\r\n        },\r\n        legend: {\r\n          data: legend\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          data: xAxis\r\n        },\r\n        yAxis: {\r\n          type: 'value',\r\n          // name: '人数',\r\n          // min: 0,\r\n          // max: 100\r\n        },\r\n        series: series\r\n\r\n      }\r\n      myChart2.setOption(option)\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.data-view {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  .el-card {\r\n    width: 50%;\r\n    #main1,#main2{\r\n      height: 500px;\r\n    }\r\n  }\r\n}\r\n\r\n#main1{\r\n  background: #9fc0f0;\r\n}\r\n#main2{\r\n  background: #9fe9f03b;\r\n}\r\n#main3{\r\n  width: 100%;\r\n  height: 500px;\r\n  background: #9ff0c33b;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DataView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DataView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DataView.vue?vue&type=template&id=6986782e&scoped=true&\"\nimport script from \"./DataView.vue?vue&type=script&lang=js&\"\nexport * from \"./DataView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DataView.vue?vue&type=style&index=0&id=6986782e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6986782e\",\n  null\n  \n)\n\nexport default component.exports","\r\n//获取数据\r\nexport function getData(root, url, params){\r\n    root.service.get(url, {params: params || {}}).then(res => {\r\n        if(res.data.status === 200){\r\n            root.tableData = res.data.data\r\n            root.total = res.data.total\r\n        }else {\r\n            root.$message.error(\"获取数据失败:\"+res.data.message);\r\n        }\r\n    }).catch(err =>{\r\n        throw err;\r\n    })\r\n}\r\n\r\n//新增 and 修改\r\nimport qs from 'qs'\r\nexport function changeInfo(root, url, method, form){\r\n    let data = qs.stringify(form);\r\n    root.service[method](url, data).then(res => {\r\n        if(res.data.status === 200){\r\n            root.dialogFormVisible = false; \r\n            root.$message.success(res.data.message);\r\n            getData(root, url)\r\n        }else {\r\n            root.$message.error(res.data.message);\r\n        }\r\n    }).catch(err =>{\r\n        throw err;\r\n    })\r\n}\r\n\r\n//删除\r\nexport function delData(root, url, id){\r\n    root.$confirm('此操作将永久删除该数据, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n    }).then(() => {\r\n        root.service.delete(`${url}/${id}`).then(res => {\r\n            if(res.data.status === 200){\r\n                root.$message.success(res.data.message);\r\n                getData(root, url) //重新查询\r\n            }else {\r\n                root.$message.error(res.data.message);\r\n            }\r\n      }).catch(err => {\r\n        root.$message.error(err);\r\n      })  \r\n    }).catch(() => {\r\n        // root.$message('取消删除');\r\n    });\r\n}\r\n\r\n//获取表格数据\r\nexport function getTableData(root, url, params){\r\n    root.service.get(url, {params: params || {}}).then(res => {\r\n        if(res.data.status === 200){\r\n            root.tableData = res.data.data\r\n            root.total = res.data.total\r\n            root.loading = false\r\n        }else {\r\n            root.loading = false\r\n            root.$message.error(res.data.message);\r\n        }\r\n    }).catch(err =>{\r\n        root.loading = false\r\n        throw err;\r\n    })\r\n    \r\n}"],"names":["render","_vm","this","_c","_self","staticClass","ref","attrs","staticRenderFns","data","mounted","myChart","title","text","tooltip","xAxis","yAxis","type","name","min","max","series","myChart3","trigger","axisPointer","legend","axisTick","alignWithLabel","position","axisLabel","formatter","yAxisIndex","smooth","created","console","i","methods","draw","myChart2","component","getData","root","url","params","service","get","then","res","status","tableData","total","$message","error","message","catch","err","changeInfo","method","form","qs","dialogFormVisible","success","delData","id","$confirm","confirmButtonText","cancelButtonText","delete","getTableData","loading"],"sourceRoot":""}