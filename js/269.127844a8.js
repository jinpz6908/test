"use strict";(self["webpackChunkproject_one"]=self["webpackChunkproject_one"]||[]).push([[269],{63269:function(t,e,a){a.r(e),a.d(e,{default:function(){return f}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"workMent"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[e("el-table-column",{attrs:{prop:"id",label:"用户ID"}}),e("el-table-column",{attrs:{prop:"userId",label:"所属班级",width:"180"}}),e("el-table-column",{attrs:{prop:"title",label:"作业名称",formatter:t.colFormatter}}),e("el-table-column",{attrs:{prop:"completed",label:"完成情况",formatter:t.colFormatter}})],1),e("Pageing",{attrs:{total:t.total,url:t.url,loading:t.loading}})],1)},n=[],s=a(93297),o=function(){var t=this,e=t._self._c;return e("div",[e("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},l=[],i={props:{total:Number,url:String,loading:Boolean},data(){return{currentPage:1,pageSize:10}},created(){this.getData()},methods:{getData(){this.$parent.loading=!0,(0,s.WJ)(this.$parent,this.url,{page:this.currentPage,size:this.pageSize})},handleSizeChange(t){console.log(`每页 ${t} 条`),this.pageSize=t,this.currentPage=1,this.getData()},handleCurrentChange(t){console.log(`当前页: ${t}`),this.currentPage=t,this.getData()}}},c=i,g=a(1001),u=(0,g.Z)(c,o,l,!1,null,"2cc4233a",null),d=u.exports,h={components:{Pageing:d},data(){return{total:0,url:"/works",loading:!0,tableData:[]}},methods:{getData(){this.loading=!0,(0,s.WJ)(this,"/works",{page:this.currentPage,size:this.pageSize})},colFormatter(t,e,a,r){if("completed"==e.property){let t="";return t=a?"已完成":"未完成",t}return a}}},p=h,m=(0,g.Z)(p,r,n,!1,null,"e0a040f2",null),f=m.exports},93297:function(t,e,a){a.d(e,{Is:function(){return l},Oe:function(){return o},WJ:function(){return i},Yu:function(){return s}});var r=a(95410),n=a.n(r);function s(t,e,a){t.service.get(e,{params:a||{}}).then((e=>{200===e.data.status?(t.tableData=e.data.data,t.total=e.data.total):t.$message.error("获取数据失败:"+e.data.message)})).catch((t=>{throw t}))}function o(t,e,a,r){let o=n().stringify(r);t.service[a](e,o).then((a=>{200===a.data.status?(t.dialogFormVisible=!1,t.$message.success(a.data.message),s(t,e)):t.$message.error(a.data.message)})).catch((t=>{throw t}))}function l(t,e,a){t.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{t.service.delete(`${e}/${a}`).then((a=>{200===a.data.status?(t.$message.success(a.data.message),s(t,e)):t.$message.error(a.data.message)})).catch((e=>{t.$message.error(e)}))})).catch((()=>{}))}function i(t,e,a){t.service.get(e,{params:a||{}}).then((e=>{200===e.data.status?(t.tableData=e.data.data,t.total=e.data.total,t.loading=!1):(t.loading=!1,t.$message.error(e.data.message))})).catch((e=>{throw t.loading=!1,e}))}}}]);
//# sourceMappingURL=269.127844a8.js.map