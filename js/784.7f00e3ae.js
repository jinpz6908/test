"use strict";(self["webpackChunkproject_one"]=self["webpackChunkproject_one"]||[]).push([[784],{84784:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"studentList"},[e("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline,size:"small"}},[e("el-form-item",{attrs:{label:"姓名",required:""}},[e("el-input",{attrs:{placeholder:"姓名"},model:{value:t.formInline.name,callback:function(e){t.$set(t.formInline,"name",e)},expression:"formInline.name"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.find}},[t._v("查询")]),e("el-button",{attrs:{type:"primary"},on:{click:t.reset}},[t._v("重置")])],1)],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.compData,border:""}},[e("el-table-column",{attrs:{prop:"id",label:"序号"}}),e("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),e("el-table-column",{attrs:{prop:"age",label:"年龄"}}),e("el-table-column",{attrs:{prop:"sex_text",label:"性别"}}),e("el-table-column",{attrs:{prop:"number",label:"学号"}}),e("el-table-column",{attrs:{prop:"class",label:"班级"}}),e("el-table-column",{attrs:{prop:"state_text",label:"\t状态"}}),e("el-table-column",{attrs:{prop:"address",label:"地址"}}),e("el-table-column",{attrs:{prop:"phone",label:"\t手机号码"}}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",circle:""}}),e("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",circle:""},on:{click:function(e){return t.del(a.row)}}})]}}])})],1),e("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},r=[],l=a(38898),s={data(){return{total:0,currentPage:1,pageSize:10,tableData:[],formInline:{name:null}}},created(){this.getData()},computed:{compData(){return this.tableData.slice((this.currentPage-1)*this.pageSize,this.currentPage*this.pageSize)}},methods:{getData(t){(0,l.qH)(t).then((t=>{200===t.data.status?(this.tableData=t.data.data,this.tableData.forEach((t=>{1===t.sex?t.sex_text="男":t.sex_text="女","1"===t.state?t.state_text="已入学":"2"===t.state?t.state_text="未入学":t.state_text="休学中"})),this.total=t.data.total,this.total=t.data.data.length,this.$message({message:t.data.message,type:"success"})):this.$message(t.data.message)})).catch((t=>{console.error(t)}))},handleSizeChange(t){console.log(`每页 ${t} 条`),this.pageSize=t,this.currentPage=1},handleCurrentChange(t){console.log(`当前页: ${t}`),this.currentPage=t},del(t){this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,l.nJ)(t.id).then((t=>{console.log(t),200===t.data.status?(this.$message({type:"success",message:"删除成功!"}),this.getData()):this.$message.error("删除失败："+t.data.message)})).catch((t=>{this.$message.error("删除失败："+t)}))})).catch((()=>{this.$message("取消删除")}))},find(){this.getData(this.formInline)},reset(){this.formInline={},this.getData()}}},o=s,i=a(1001),u=(0,i.Z)(o,n,r,!1,null,null,null),c=u.exports},38898:function(t,e,a){a.d(e,{C5:function(){return u},Hm:function(){return m},eM:function(){return c},nJ:function(){return o},qH:function(){return s},um:function(){return i},x4:function(){return l}});var n=a(37182),r=a(95410);function l(t){return(0,n.Z)({method:"post",url:"/login",data:t})}function s(t){return(0,n.Z)({method:"get",url:"/students",params:t})}function o(t){return(0,n.Z)({method:"delete",url:`/students/${t}`})}function i(t,e){e=(0,r.stringify)(e);let a={method:t,url:"/info",data:e};return(0,n.Z)(a)}function u(){return(0,n.Z)({method:"get",url:"/info"})}function c(t){return(0,n.Z)({method:"delete",url:`/info/${t}`})}function m(){return(0,n.Z)({method:"get",url:"/travel"})}}}]);
//# sourceMappingURL=784.7f00e3ae.js.map