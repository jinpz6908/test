"use strict";(self["webpackChunkproject_one"]=self["webpackChunkproject_one"]||[]).push([[309],{39309:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"workList"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{prop:"id",label:"用户ID"}}),t("el-table-column",{attrs:{prop:"userId",label:"所属班级",width:"180"}}),t("el-table-column",{attrs:{prop:"title",label:"作业名称",formatter:e.colFormatter}}),t("el-table-column",{attrs:{prop:"completed",label:"完成情况",formatter:e.colFormatter}})],1),t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},n=[],s=a(93297),o={data(){return{total:0,currentPage:1,pageSize:10,loading:!0,tableData:[],pageInfo:{page:1,size:10}}},created(){this.getData()},methods:{getData(){this.loading=!0,this.pageInfo.page=this.currentPage,this.pageInfo.size=this.pageSize,(0,s.WJ)(this,"/works",this.pageInfo)},colFormatter(e,t,a,r){if("completed"==t.property){let e="";return e=a?"已完成":"未完成",e}return a},handleSizeChange(e){console.log(`每页 ${e} 条`),this.pageSize=e,this.currentPage=1,this.getData()},handleCurrentChange(e){console.log(`当前页: ${e}`),this.currentPage=e,this.getData()}}},l=o,i=a(1001),c=(0,i.Z)(l,r,n,!1,null,"22c1eb5d",null),g=c.exports},93297:function(e,t,a){a.d(t,{Is:function(){return l},Oe:function(){return o},WJ:function(){return i},Yu:function(){return s}});var r=a(95410),n=a.n(r);function s(e,t,a){e.service.get(t,{params:a||{}}).then((t=>{200===t.data.status?(e.tableData=t.data.data,e.total=t.data.total):e.$message.error("获取数据失败:"+t.data.message)})).catch((e=>{throw e}))}function o(e,t,a,r){let o=n().stringify(r);e.service[a](t,o).then((a=>{200===a.data.status?(e.dialogFormVisible=!1,e.$message.success(a.data.message),s(e,t)):e.$message.error(a.data.message)})).catch((e=>{throw e}))}function l(e,t,a){e.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{e.service.delete(`${t}/${a}`).then((a=>{200===a.data.status?(e.$message.success(a.data.message),s(e,t)):e.$message.error(a.data.message)})).catch((t=>{e.$message.error(t)}))})).catch((()=>{}))}function i(e,t,a){e.service.get(t,{params:a||{}}).then((t=>{200===t.data.status?(e.tableData=t.data.data,e.total=t.data.total,e.loading=!1):(e.loading=!1,e.$message.error(t.data.message))})).catch((t=>{throw e.loading=!1,t}))}}}]);
//# sourceMappingURL=309.bb5d1a36.js.map